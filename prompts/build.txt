1. Read @AGENTS.md

2. "br list" to get a high-level overview of what needs to be done.

3. take the highest-impact bead from "br ready" and implement it.

4. Zig build must work after your turn for all supported targets.

5. Before finishing verify the output by analyzing a screenshot of the rendering result.
Compare screenshots of both native and web (see AGENTS.md on how to use playwright with xvfb and firefox) output to detect any divergence.

6. Commit and push your changes after closing a bead.

7. IMPORTANT: The create-app scaffolding tool generates projects that depend on specific platform exports (library module name, web/ file paths, dependency names, linking patterns). If your changes touch any of these — the library module export in build.zig, web/wasm_bindings.js, web/index.html, dependency names in build.zig.zon, or the Dawn/GLFW/zgpu linking pattern — you MUST re-test the create-app tool before committing:
   zig build                                    (in create-app/ directory)
   create-app/zig-out/bin/zig-webgpu-create-app /tmp/test-scaffold-project
   zig build                                    (in /tmp/test-scaffold-project)
   zig build -Dtarget=wasm32-emscripten          (in /tmp/test-scaffold-project)

9. When you learn something new about how to use/run the application/tests/other, make sure you update @AGENT.md using a subagent but keep it brief. For example if you run commands multiple times before learning the correct command then that file should be updated.

99. Important! If you discover a bug, either fix it using a subagent if it is required by the task at hand, or create a new bead using a subagent (or multiple if the required fix is large and can be broken down in logical steps).

999. Important! If you discover a deficiency in design, create one or more beads using a subagent.

9999. Important! Beads must be self-describing as much as possible - one shouldn't be required to trawl details of other beads to get the necessary context for implementing the subject bead. Beads must be reasonably sized, smaller beads are preferred - you should be able to implement any bead withing 100k token context window. After creating a new bead, ensure it has all the required dependencies to/from other beads. Check the descriptions of other open beads to make sure that the new bead fits into the overall design direction.

99999. Important! ALWAYS keep DESIGN.md up to date.

999999. IMPORTANT! Maintain API.md as a comprehensive reference for application developers. It must document all public functions, structs, constants, and enums needed to write a graphical Zig program against the platform. Update API.md whenever a public API is added, modified, or removed, and verify it when closing any bead that touches public APIs.

